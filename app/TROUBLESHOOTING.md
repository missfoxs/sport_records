# 问题排查指南

## 问题：首页和统计页面都是空的

### 可能的原因

1. **测试数据日期不匹配**
   - 测试数据中的日期是固定的 "2026-01-24"
   - 如果今天不是这个日期，今日任务会筛选不到

2. **数据没有加载**
   - 需要手动调用 `loadMockData()` 加载测试数据

3. **数据被清空了**
   - 可能调用了 `clearAllData()` 或 `clearMockData()`

### ✅ 已修复

1. **自动更新日期**：`loadMockData()` 现在会自动将任务日期更新为今天，记录日期更新为最近几天
2. **调试面板**：在首页底部添加了调试面板，可以查看数据状态

### 🔍 检查步骤

1. **查看调试面板**（在首页底部）：
   - 检查"总任务数"和"总记录数"是否为 0
   - 检查"今日任务"数量
   - 检查"测试任务"和"测试记录"数量

2. **加载测试数据**：
   - 点击调试面板中的"加载测试数据"按钮
   - 或者手动调用：`loadMockData()`

3. **检查日期**：
   - 调试面板会显示"今天"的日期
   - 确保任务日期匹配今天

### 🚀 快速修复

在 `HomeScreen.tsx` 中临时启用测试数据加载：

```tsx
useEffect(() => {
  initializeDefaultTasks();
  loadMockData(); // 取消注释这行
}, [initializeDefaultTasks, loadMockData]);
```

### 📝 调试信息

调试面板会显示：
- 今天的日期
- 总任务数
- 今日任务数
- 总记录数
- 测试数据数量

### 🗑️ 清除测试数据

如果测试数据有问题，可以：
1. 点击"清除测试数据"按钮（只删除测试数据）
2. 点击"清空所有数据"按钮（删除所有数据）

## 常见问题

### Q: 为什么今日任务是空的？
A: 检查任务日期是否等于今天。可以在调试面板查看"今日任务"数量。

### Q: 为什么统计页面是空的？
A: 检查是否有记录数据，以及周期筛选是否正确。可以在调试面板查看"总记录数"。

### Q: 如何重新加载测试数据？
A: 先点击"清除测试数据"，再点击"加载测试数据"。
